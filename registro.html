<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="Estilos/styles.css">
  <title>Formulario con JSON</title>
</head>     
<body>      
  <header class="HeaderRegistro">Envie sus datos para unirse a nosotros</header>

  <form id="formulario">
    <label>Nombre completo: <input type="text" id="nombre" required></label><br>
    <label>Mail: <br><input type="text" id="mail" required></label><br>
    <label>Tel: <br><input type="number" id="tel" required></label><br>
    <label>CI: <br><input type="number" id="CI" required></label><br>
    <label>Departamento: <input type="text" id="dep" required></label><br>
    <label>Cuota social
      <select id="cuota">
        <option value="estudiantil">Estudiantil</option>
        <option value="basica">Basica</option>
        <option value="clasica">Clasica</option>
      </select>
    </label><br><br>

    <button type="submit">Enviar</button>

  </form>       

  <div id="respuesta"></div>

  <script>        
    document.getElementById("formulario").addEventListener("submit", function(e) {
      e.preventDefault(); // Evita que se recargue la pÃ¡gina

      // Obtenemos los datos ingresados
      const persona = {
        nombre: document.getElementById("nombre").value,
        mail: document.getElementById("mail").value,
        tel: parseInt(document.getElementById("tel").value),
        CI: parseInt(document.getElementById("CI").value),
        dep: document.getElementById("dep").value,
        cuota: document.getElementById("cuota").value,
        confirmacion: false
      };
                  
                        
      // Enviamos los datos como JSON al servidor
      fetch("procesar.php", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },        
        body: JSON.stringify(persona)
      })          
      .then(res => res.text())
      .then(data => {
        document.getElementById("respuesta").innerText = "Respuesta del servidor: " + data;
      });           
    });               
  </script>                   
</body>               
</html>               